<mat-card class="repository-card" scrollFadeIn>
  <mat-card-header>
    <mat-card-title>
      {{ repository().name }}
    </mat-card-title>
    <mat-card-subtitle>
      <a [href]="repository().url" target="_blank" rel="noopener noreferrer">
        {{ repository().full_name }}
      </a>
    </mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    @if (repository().description) {
    <p>{{ repository().description }}</p>
    } @else {
    <p class="no-description">Sin descripción</p>
    }

    <div class="repo-stats">
      <div class="stat" matTooltip="Estrellas">
        <mat-icon>star</mat-icon>
        <span>{{ repository().stars }}</span>
      </div>
      <div class="stat" matTooltip="Bifurcaciones">
        <mat-icon>fork_right</mat-icon>
        <span>{{ repository().forks }}</span>
      </div>
      @if (repository().language) {
      <div class="stat" matTooltip="Lenguaje principal">
        <app-language-icon
          [language]="repository().language"
          [size]="{ width: 20, height: 20 }"
        ></app-language-icon>
        <span>{{ repository().language }}</span>
      </div>
      }
    </div>

    <mat-divider></mat-divider>

    <div class="repo-dates">
      <p>
        <strong>Creado</strong>
        {{ repository().created_at | date : "MMM dd, yyyy" }}
      </p>

      <p>
        <strong>Última actualización</strong>
        {{ repository().updated_at | date : "MMM dd, yyyy" }}
      </p>
    </div>
  </mat-card-content>

  <mat-card-actions>
    <a
      mat-button
      [href]="repository().url"
      target="_blank"
      rel="noopener noreferrer"
    >
      <mat-icon>open_in_new</mat-icon>
      VER REPOSITORIO
    </a>
  </mat-card-actions>
</mat-card>
